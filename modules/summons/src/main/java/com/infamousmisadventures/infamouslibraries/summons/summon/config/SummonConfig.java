package com.infamousmisadventures.infamouslibraries.summons.summon.config;

import com.mojang.serialization.Codec;
import com.mojang.serialization.codecs.RecordCodecBuilder;

public class SummonConfig {

    public static final SummonConfig DEFAULT = new SummonConfig(1, false);

    public static final Codec<SummonConfig> CODEC = RecordCodecBuilder.create(instance -> instance.group(
            Codec.INT.fieldOf("cost").forGetter(summonConfig -> summonConfig.cost),
            Codec.BOOL.optionalFieldOf("add_attack_goal", false).forGetter(summonConfig -> summonConfig.addAttackGoal)
    ).apply(instance, SummonConfig::new));

    private final int cost;
    private final boolean addAttackGoal;

    public SummonConfig(int cost, boolean addAttackGoal) {
        this.cost = cost;
        this.addAttackGoal = addAttackGoal;
    }

    public int getCost() {
        return cost;
    }

    public boolean shouldAddAttackGoal() {
        return addAttackGoal;
    }
}
